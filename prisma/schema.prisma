generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Provider {
  id                Int                  @id @default(autoincrement())
  name              String               @db.VarChar(256)
  location          Unsupported("point")
  undisclosed       Boolean?             @default(false)
  spanish           Boolean?             @default(false)
  street            String?              @db.VarChar(256)
  city              String?              @db.VarChar(256)
  zip               String?              @db.VarChar(16)
  website           String?              @db.VarChar(126)
  email             String?              @db.VarChar(256)
  description       String?              @db.VarChar(256)
  updatedAt         DateTime?            @default(dbgenerated("(curdate())")) @map("updated_at") @db.Date
  ServiceOnProvider ServiceOnProvider[]
}

model Service {
  id                String              @id @db.VarChar(8)
  description       String?             @db.VarChar(256)
  ServiceOnProvider ServiceOnProvider[]
}

model ServiceOnProvider {
  provider_id Int
  service_id  String   @db.VarChar(8)
  Provider    Provider @relation(fields: [provider_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "provider")
  Service     Service  @relation(fields: [service_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "service")

  @@id([provider_id, service_id])
  @@index([service_id], map: "service")
}
